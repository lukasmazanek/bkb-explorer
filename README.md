# BKB Explorer

Interactive **Business Knowledge Blueprint** Explorer for Semantic Platform.

> **BKB** = Business Knowledge Blueprint
> **CST** = ConceptSpeak Text

## Quick Start

```bash
# Option A: Public demo (test data only)
open index.html

# Option B: Full demo with organization data
./prepare-demo.sh    # Requires ontology-lift export
open index.html
```

No server required - works offline. Test data is pre-bundled.

## Features

### Domain Navigation
- Browse **Test** > Order / Position / Transaction / Payment
- Organization domains appear when data-org.js is loaded
- Sidebar tree with concept counts

### Interactive Graph
- **Cytoscape.js** powered visualization
- **Zoom** - mouse scroll
- **Pan** - right-click drag
- **Hover** - tooltips for concepts and edges
- **Click** - expand/collapse hierarchy

### CST Element Toggles

Filter what's visible in the graph:

```
☑ Domain (45)      - Domain-specific concepts
☑ FIBO (32)        - FIBO-mapped concepts
☑ Schema.org (15)  - Schema.org-mapped concepts
☑ Unknown (60)     - Unmapped concepts
☑ Orphans (3)      - Concepts with no visible edges
───────────────────
☑ Context (12)     - Context reference concepts
☑ Categorizations  - Is-a hierarchy edges
☑ Relationships    - Binary verb edges
```

All toggles default ON. Uncheck to hide. Graph re-layouts automatically.

### Layout Selector

Choose graph layout algorithm:

| Layout | Best for |
|--------|----------|
| **Dagre** (default) | Hierarchical structures |
| **Cose** | Force-directed, relationships |
| **Breadthfirst** | Tree exploration |
| **Circle** | Small graphs |
| **Grid** | Overview of all concepts |
| **Concentric** | Hub-centric graphs |

### Tooltips

**Concept tooltip:**
- Name and source badge (FIBO/Schema/Domain/Unknown)
- Definition text
- FIBO mapping URI
- Cross-domain indicator
- Child count

**Edge tooltip:**
- Relationship type (Binary Verb / Categorization)
- Natural language description
- CST notation

### Cross-Domain

- Thick border indicates concept shared across domains
- Portal buttons to navigate to other domains
- Ghost nodes show external references

## BKB Notation Legend

### Concepts

| Style | Meaning |
|-------|---------|
| Green fill | FIBO mapped |
| Blue fill | Schema.org mapped |
| Purple fill | Domain-specific |
| Orange fill | Unknown (needs mapping) |
| Dotted border | Context reference |
| Thick border | Cross-domain shared |

### Edges

| Style | Meaning |
|-------|---------|
| Thick black | Categorization (is-a) |
| Thin purple | Binary verb (relationship) |

## Data

Data is split into two bundles for security:

### Test Data (Always Committed)

`js/data.js` - Generated by `./prepare-public.sh`

| Domain | Path | Concepts |
|--------|------|----------|
| Order | Test:Order | 18 |
| Position | Test:Position | 16 |
| Transaction | Test:Transaction | 9 |
| Payment | Test:Payment | 27 |

### Organization Data (Never Committed)

`js/data-org.js` - Generated by `./prepare-demo.sh`

**This file is gitignored** - contains sensitive production data.

### Setup

```bash
# Public version (test data only)
./prepare-public.sh
open index.html

# Full version (test + organization data)
./prepare-public.sh    # Generate test data
./prepare-demo.sh      # Add organization data (requires ontology-lift)
open index.html
```

The app automatically detects and merges organization data when available.

## Browser Support

- Chrome (recommended)
- Firefox
- Safari
- Edge

## Tech Stack

- **Cytoscape.js** - Graph visualization
- **Dagre** - Hierarchical layout algorithm
- **Vanilla JS** - No framework dependencies

## License

MIT License - See LICENSE file.
